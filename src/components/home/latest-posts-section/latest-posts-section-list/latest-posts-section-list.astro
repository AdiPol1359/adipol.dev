---
import { PostCard } from '@/components/blocks';

import { LATEST_POSTS_LIMIT } from '../latest-posts-section.constants';
import LatestPostsSectionListEmptySpaceCard from './latest-posts-section-list-empty-space-card.astro';

import type { Post } from '@/types/post';

interface Props {
	readonly posts: Post[];
}

const latestPosts = Astro.props.posts.slice(0, LATEST_POSTS_LIMIT);
const emptySpaces = Array.from({
	length: LATEST_POSTS_LIMIT - latestPosts.length,
});
---

<ol class="grid grid-cols-1 gap-4 tablet:grid-cols-2 laptop:grid-cols-3">
	{
		latestPosts.map(post => (
			<li>
				<PostCard post={post} />
			</li>
		))
	}
	{
		emptySpaces.map(() => (
			<li class="hidden tablet:nth-2:block laptop:nth-3:block">
				<LatestPostsSectionListEmptySpaceCard />
			</li>
		))
	}
</ol>
